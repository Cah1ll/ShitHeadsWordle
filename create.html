<!doctype html>
<html>
<head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><title>Create Friendle</title></head>
<body style="font-family:system-ui, -apple-system,Segoe UI, sans-serif;max-width:620px;margin:2rem auto;">
  <h1>Create a puzzle</h1>
  <p>Enter a 5-letter word (A–Z):</p>
  <input id="word" maxlength="5" placeholder="CRANE" style="width:100%;text-transform:uppercase;font-size:1.1rem;padding:.5rem" />
  <button id="make" style="margin-top:.8rem;padding:.6rem 1rem">Create link</button>

  <div id="link" style="margin-top:1rem;word-break:break-word"></div>

<script>
function obfuscate(w){
  // simple: reverse then b64
  const rev = w.split('').reverse().join('');
  return btoa(rev);
}
const base = window.location.origin + window.location.pathname.replace(/create\.html$/,'index.html');
document.getElementById('make').onclick = () => {
  const raw = document.getElementById('word').value.trim().toUpperCase();
  if (!/^[A-Z]{5}$/.test(raw)) { alert('Please enter exactly 5 letters (A–Z).'); return; }
  const token = obfuscate(raw);
  const url = base + '#p=' + encodeURIComponent(token);
  const div = document.getElementById('link');
  div.innerHTML = `<p>Share this link:</p><a href="${url}">${url}</a>`;
};
</script>
</body>
</html>
